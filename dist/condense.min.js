!function(t,e){"use strict";"function"==typeof define&&define.amd?define(function(){return e(t)}):"object"==typeof exports?module.exports=e:t.Condense=e(t)}(this,function(){"use strict";var t=["en","ru","it","es","sp","uk","ua","de","pt","ro","pl","fi","nl","fr","bg","sv","se","zh_tw","zh","zh_cn","tr","ca"],e=["N","NE","E","SE","S","SW","W","NW"],n="http://api.openweathermap.org/data/2.5/weather?",o="img/",i=".png",a=function(e){var n,o,i;n=e.getAttribute("data-condense-location"),n||""===n||(n={lat:e.getAttribute("data-condense-latitude")||0,lon:e.getAttribute("data-condense-longitude")||0}),i=e.getAttribute("data-condense-language"),i&&-1!==t.indexOf(i)||(i="en"),o="true"===e.getAttribute("data-condense-metric")?!0:!1,r({lang:i,isMetric:o,location:n},function(t){p(e,t)})},r=function(t,e){var o,i=t.lang,a=t.isMetric?"metric":"imperial",r=t.location;""===r&&"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(t){r="lat="+t.coords.latitude+"&lon="+t.coords.longitude,o=n+r+"&lang="+i+"&units="+a,d(encodeURI(o),e)}):(r=c(r),o=n+r+"&lang="+i+"&units="+a,d(encodeURI(o),e))},c=function(t){return"object"==typeof t?"lat="+t.lat+"&lon="+t.lon:"string"==typeof t?"q="+t:void 0},u=function(t){var n=Math.round(t/45);return e[n]||"N"},d=function(t,e){var n;window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLHTTP")),n.onreadystatechange=function(){if(4==n.readyState){var t=n.responseText;"function"==typeof e&&e(JSON.parse(t))}},n.open("GET",t,!0),n.send(null)},s=function(t){if(200===t.cod)return{data:{temperature:Math.round(t.main.temp),min:Math.round(t.main.temp_min),max:Math.round(t.main.temp_max),pressure:t.main.pressure,humidity:t.main.humidity,city:t.name,country:t.sys.country,description:t.weather[0].description,code:t.weather[0].id,windSpeed:t.wind.speed,windDirection:u(t.wind.deg)},imageSrc:o+t.weather[0].icon+i};throw"The place you request could not be found"},p=function(t,e){e=s(e);for(var n in e.data){var o="[data-condense-"+n+"]",i=t.querySelector(o);i&&(i.innerHTML=e.data[n])}var a=t.querySelector("[data-condense-icon]");a&&(a.src=e.imageSrc)},f=function(){};return f.prototype.set=a,f});
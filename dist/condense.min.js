!function(t,e){"use strict";"function"==typeof define&&define.amd?define(function(){return e(t)}):"object"==typeof exports?module.exports=e:t.Condense=e(t)}(this,function(){"use strict";var t=["en","ru","it","es","sp","uk","ua","de","pt","ro","pl","fi","nl","fr","bg","sv","se","zh_tw","zh","zh_cn","tr","ca"],e=["N","NE","E","SE","S","SW","W","NW"],n="http://api.openweathermap.org/data/2.5/weather?",o="img/",i=".png",a=function(e,n){var o,i,a;o=e.getAttribute("data-condense-location"),o||""===o||(o={lat:e.getAttribute("data-condense-latitude")||0,lon:e.getAttribute("data-condense-longitude")||0}),a=e.getAttribute("data-condense-language"),a&&-1!==t.indexOf(a)||(a="en"),i="true"===e.getAttribute("data-condense-metric")?!0:!1,r({lang:a,isMetric:i,location:o},function(t){l(e,t,n)})},r=function(t,e){var o,i=t.lang,a=t.isMetric?"metric":"imperial",r=t.location;""===r&&"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(t){r="lat="+t.coords.latitude+"&lon="+t.coords.longitude,o=n+r+"&lang="+i+"&units="+a,d(encodeURI(o),e)}):(r=c(r),o=n+r+"&lang="+i+"&units="+a,d(encodeURI(o),e))},c=function(t){return"object"==typeof t?"lat="+t.lat+"&lon="+t.lon:"string"==typeof t?"q="+t:void 0},u=function(t){var n=Math.round(t/45);return e[n]||"N"},d=function(t,e){var n;window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLHTTP")),n.onreadystatechange=function(){if(4==n.readyState){var t=n.responseText;"function"==typeof e&&e(JSON.parse(t))}},n.open("GET",t,!0),n.send(null)},s=function(t){if(200===t.cod)return{data:{temperature:Math.round(t.main.temp),min:Math.round(t.main.temp_min),max:Math.round(t.main.temp_max),pressure:t.main.pressure,humidity:t.main.humidity,city:t.name,country:t.sys.country,description:t.weather[0].description,code:t.weather[0].id,windSpeed:t.wind.speed,windDirection:u(t.wind.deg)},imageSrc:o+t.weather[0].icon+i};throw"The place you request could not be found"},l=function(t,e,n){e=s(e);for(var o in e.data){var i="[data-condense-"+o+"]",a=t.querySelector(i);a&&(a.innerHTML=e.data[o])}var r=t.querySelector("[data-condense-icon]");r?(r.src=e.imageSrc,n&&(r.onload=n)):n&&n.apply(null,arguments)},p=function(){};return p.prototype.set=a,p});